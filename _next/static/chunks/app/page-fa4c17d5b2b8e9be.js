(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{35061:(e,t,r)=>{Promise.resolve().then(r.bind(r,75001))},75001:(e,t,r)=>{"use strict";r.d(t,{default:()=>es});var a,s=r(57437),n=r(37270),l=r(2265),i=r(98094),o=r(24841),c=r(51077),d=r(35231),u=r(28148),m=r(54142),h=r(2842),f=r(9542),x=r(85475),g=r(20153),N=r(16638),p=r(44839),A=r(96164);!function(e){e.Aapl="AAPL",e.Googl="GOOGL",e.Msft="MSFT",e.Amzn="AMZN",e.Fb="FB",e.Tsla="TSLA",e.Nvda="NVDA",e.Nflx="NFLX",e.Vry="VRY",e.Trba="TRBA"}(a||(a={}));let j=Object.values(a),b={AAPL:0,GOOGL:0,MSFT:0,AMZN:0,FB:0,TSLA:0,NVDA:0,NFLX:0,VRY:0,TRBA:0},M={AAPL:0,GOOGL:0,MSFT:0,AMZN:0,FB:0,TSLA:0,NVDA:0,NFLX:0,VRY:0,TRBA:0},v=e=>e?Math.round(Math.random()*e):Math.round(2e5*Math.random()),L={AAPL:50+v(250),GOOGL:50+v(400),MSFT:50+v(300),AMZN:50+v(350),FB:50+v(150),TSLA:50+v(100),NVDA:50+v(500),NFLX:50+v(300),VRY:50+v(300),TRBA:50+v(100)},y={AAPL:Math.round(v(50)/100*L.AAPL),GOOGL:Math.round(v(50)/100*L.GOOGL),MSFT:Math.round(v(50)/100*L.MSFT),AMZN:Math.round(v(50)/100*L.AMZN),FB:Math.round(v(50)/100*L.FB),TSLA:Math.round(v(50)/100*L.TSLA),NVDA:Math.round(v(50)/100*L.NVDA),NFLX:Math.round(v(50)/100*L.NFLX),VRY:Math.round(v(50)/100*L.VRY),TRBA:0},T={AAPL:L.AAPL-y.AAPL,GOOGL:L.GOOGL-y.GOOGL,MSFT:L.MSFT-y.MSFT,AMZN:L.AMZN-y.AMZN,FB:L.FB-y.FB,TSLA:L.TSLA-y.TSLA,NVDA:L.NVDA-y.NVDA,NFLX:L.NFLX-y.NFLX,VRY:L.VRY-y.VRY,TRBA:L.TRBA-y.TRBA},S={AAPL:25*Math.ceil(T.AAPL/100),GOOGL:25*Math.ceil(T.GOOGL/100),MSFT:25*Math.ceil(T.MSFT/100),AMZN:25*Math.ceil(T.AMZN/100),FB:25*Math.ceil(T.FB/100),TSLA:25*Math.ceil(T.TSLA/100),NVDA:25*Math.ceil(T.NVDA/100),NFLX:25*Math.ceil(T.NFLX/100),VRY:25*Math.ceil(T.VRY/100),TRBA:25*Math.ceil(T.TRBA/100)},k={AAPL:v(S.AAPL),GOOGL:v(S.GOOGL),MSFT:v(S.MSFT),AMZN:v(S.AMZN),FB:v(S.FB),TSLA:v(S.TSLA),NVDA:v(S.NVDA),NFLX:v(S.NFLX),VRY:v(S.VRY),TRBA:v(S.TRBA)};function F(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,A.m6)((0,p.W)(t))}let R=(e,t,r,a)=>0===t||0===e?a:Math.round((e*t+a*r)/(t+r)*100)/100,w=e=>e?Math.round(Math.random()*e):Math.round(2e5*Math.random()),V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=y[e]+Math.round(T[e]/2),s=[];for(let n=0;n<t;n++){let t=0;t=e===a.Trba?Math.round(t-k[e]/4):Math.round(r+Math.random()*k[e]-k[e]/2);let l=L[e],i=y[e];for(;t<i||t>l;)e===a.Trba?t<=0&&(t=0):t=Math.round(t+Math.random()*k[e]-k[e]/2);s[n]={time:n,price:t},r=t}return s},B=()=>{for(let e of Object.keys(k))k[e]=w(S[e])},O=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:F("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});O.displayName="Card";let G=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:F("flex flex-col space-y-1.5 p-6",r),...a})});G.displayName="CardHeader";let P=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:F("text-2xl font-semibold leading-none tracking-tight",r),...a})});P.displayName="CardTitle",l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:F("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let C=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:F("p-6 pt-0",r),...a})});C.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:F("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var D=r(71538);let Y=(0,r(12218).j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=l.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...i}=e,o=l?D.g7:"button";return(0,s.jsx)(o,{className:F(Y({variant:a,size:n,className:r})),ref:t,...i})});Z.displayName="Button";var X=r(41276);let E=l.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(X.fC,{ref:t,className:F("relative overflow-hidden",r),...n,children:[(0,s.jsx)(X.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(z,{}),(0,s.jsx)(X.Ns,{})]})});E.displayName=X.fC.displayName;let z=l.forwardRef((e,t)=>{let{className:r,orientation:a="vertical",...n}=e;return(0,s.jsx)(X.gb,{ref:t,orientation:a,className:F("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...n,children:(0,s.jsx)(X.q4,{className:"relative flex-1 rounded-full bg-border"})})});z.displayName=X.gb.displayName;var _=r(62528),W=r(4867);let H=_.fC;_.xz;let q=_.h_;_.x8;let I=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(_.aV,{ref:t,className:F("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});I.displayName=_.aV.displayName;let K=l.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(q,{children:[(0,s.jsx)(I,{}),(0,s.jsxs)(_.VY,{ref:t,className:F("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...n,children:[a,(0,s.jsxs)(_.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(W.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});K.displayName=_.VY.displayName;let J=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:F("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};J.displayName="DialogHeader";let $=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};$.displayName="DialogFooter";let Q=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(_.Dx,{ref:t,className:F("text-lg font-semibold leading-none tracking-tight",r),...a})});Q.displayName=_.Dx.displayName;let U=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(_.dk,{ref:t,className:F("text-sm text-muted-foreground",r),...a})});function ee(e,t){let r=(0,l.useRef)(null);(0,l.useEffect)(()=>{r.current=e},[e]),(0,l.useEffect)(()=>{if(null!==t){let e=setInterval(function(){r.current()},t);return()=>clearInterval(e)}},[t])}U.displayName=_.dk.displayName;let et=!1,er=200,ea=0;function es(){let[e,t]=(0,l.useState)("// Write your JavaScript to execute every second\n\n/*  Utilize the MarketScript library to interact with the market:\n    getCurrentValue( tickerName: string ): number\n    getHistoricalValue( tickerName: string, lookBackQuantity: number): Record<number,number>[]\n    buyStock( tickerName: string, quantity: number ): boolean\n    sellStock( tickerName: string, quantity: number ): boolean\n    getAveragePurchasePrice( tickerName: string ): number\n    getStockBalance( tickerName: string ): number\n    getWalletBalance(): number\n    getRemainingTime(): number // this is the number of seconds remaining in the game\n*/\n\nconst {\n  getCurrentValue\n  , getHistoricalValue\n  , buyStock\n  , sellStock\n  , getAveragePurchasePrice\n  , getStockBalance\n  , getWalletBalance\n  , getRemainingTime\n} = MarketScript;\n\nconst tickers = ['AAPL','GOOGL','MSFT','AMZN','FB','TSLA','NVDA','NFLX','VRY'];\n\nconsole.log(getCurrentValue('AAPL'));"),[r,p]=(0,l.useState)(!1),[A,v]=(0,l.useState)(!1),[y,T]=(0,l.useState)({AAPL:[],GOOGL:[],MSFT:[],AMZN:[],FB:[],TSLA:[],NVDA:[],NFLX:[],VRY:[],TRBA:[]}),[S,F]=(0,l.useState)({AAPL:0,GOOGL:0,MSFT:0,AMZN:0,FB:0,TSLA:0,NVDA:0,NFLX:0,VRY:0,TRBA:0}),[w,D]=(0,l.useState)(1e3),[Y,X]=(0,l.useState)(!1),[z,_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e={AAPL:[],GOOGL:[],MSFT:[],AMZN:[],FB:[],TSLA:[],NVDA:[],NFLX:[],VRY:[],TRBA:[]};j.forEach(t=>{e[t]=V(t)}),T(e)},[]);let W=(0,l.useRef)(w),q=(0,l.useRef)(S);(0,l.useEffect)(()=>{W.current=w},[w]),(0,l.useEffect)(()=>{q.current=S},[S]);let[I,es]=(0,l.useState)({}),en=(0,l.useRef)(I);(0,l.useEffect)(()=>{en.current=I},[I]);let el=(0,l.useRef)(ea);(0,l.useEffect)(()=>{el.current=ea},[ea]),ee(()=>{z&&(ea+=1e3)>=3e5&&ei()},1e3),ee(async()=>{if(A&&(++er%30&&B(),T(e=>{let t={...e};return Object.keys(t).forEach(e=>{let r=k[e],s=t[e][t[e].length-1].price,n=L[e],l=0;if(e===a.Trba)for(l=Math.round(s-r/4);(l<0||l>n)&&!(l<=0);)l=Math.round(s-r/4);else for(l=Math.round(s+Math.random()*r-r/2);l<0||l>n;)l=Math.round(s+Math.random()*r-r/2);b[e]=l,t[e].shift(),t[e]=[...t[e],{time:er,price:l}]}),t})),r){let t={};t.getCurrentValue=e=>y[e][y[e].length-1].price,t.getWalletBalance=()=>W.current,t.buyStock=(e,t)=>{if(e===a.Trba)return!0;let r=y[e][y[e].length-1].price,s=r*t;if(W.current>=s){M[e]+=t,D(e=>(W.current=e-s,W.current));let a=R(q.current[e],M[e],t,r);return F(t=>{let r={...t,[e]:a};return q.current=r,r}),es(t=>({...t,[e]:"red"})),setTimeout(()=>{es(t=>({...t,[e]:null}))},100),!0}return!1},t.sellStock=(e,t)=>{let r=y[e][y[e].length-1].price,a=M[e],s=r*t;return a>=t&&(M[e]-=t,0===M[e]&&F(t=>{let r={...t,[e]:0};return q.current=r,r}),D(e=>(W.current=e+s,W.current)),es(t=>({...t,[e]:"green"})),setTimeout(()=>{es(t=>({...t,[e]:null}))},100),!0)},t.getHistoricalValue=(e,t)=>t<=200?y[e].slice(200-t,200):y[e],t.getAveragePurchasePrice=e=>q.current[e],t.getStockBalance=e=>M[e],t.getRemainingTime=()=>(3e5-el.current)/1e3;let r=Function("MarketScript",e),s=async()=>{try{return await r(t,e)}catch(e){console.error("Script execution error:",e)}};await s()}},1e3);let ei=()=>{X(!0),p(!1),v(!1)},eo=()=>{_(e=>!e),v(e=>!e)};return(0,s.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,s.jsx)(H,{open:!z,children:(0,s.jsxs)(K,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(J,{children:[(0,s.jsx)(Q,{children:"MarketScript - Tutorial"}),(0,s.jsxs)(U,{children:[(0,s.jsx)("br",{}),"Welcome to MarketScript!",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The rules are simple:",(0,s.jsx)("br",{}),"1. You have 5 minutes to maximize your profit (or lose it all!)",(0,s.jsx)("br",{}),"2. You can interact with the MarketScript API with JavaScript",(0,s.jsx)("br",{}),"3. Your code will be run every second against the market.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Good Luck!"]})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-4 items-center gap-4"}),(0,s.jsx)("div",{className:"grid grid-cols-4 items-center gap-4"})]}),(0,s.jsx)($,{children:(0,s.jsx)(Z,{onClick:eo,children:"Get Started"})})]})}),(0,s.jsx)(H,{open:Y,children:(0,s.jsxs)(K,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(J,{children:[(0,s.jsx)(Q,{children:"Game Over!"}),(0,s.jsxs)(U,{children:["You finished with $",w]})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-4 items-center gap-4"}),(0,s.jsx)("div",{className:"grid grid-cols-4 items-center gap-4"})]}),(0,s.jsx)($,{children:(0,s.jsx)(Z,{onClick:eo,children:"Start Over"})})]})}),(0,s.jsxs)("div",{className:"w-1/2 p-4 flex flex-col",children:[(0,s.jsxs)("div",{className:"mb-4 flex space-x-2",children:[(0,s.jsxs)(Z,{onClick:()=>{try{p(!0),et=!0}catch(e){console.error("Error executing script:",e)}},disabled:r||Y||!z,children:[(0,s.jsx)(i.Z,{className:"mr-2 h-4 w-4"})," Execute"]}),(0,s.jsxs)(Z,{onClick:()=>{p(!1),et=!1},disabled:!r||Y||!z,children:[(0,s.jsx)(o.Z,{className:"mr-2 h-4 w-4"})," Pause"]}),(0,s.jsxs)(Z,{onClick:()=>{},disabled:r||Y||!z,children:[(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Wallet Transfer"]}),(0,s.jsxs)(Z,{onClick:()=>{},disabled:r,children:[(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Bank Transfer"]}),(0,s.jsxs)("h1",{className:"text-4xl text-right w-full",children:[Math.floor((3e5-el.current)/6e4),"m:",(3e5-el.current)%6e4/1e3,"s"]})]}),(0,s.jsxs)("div",{className:"mb-4 flex space-x-2 items-center",children:[(0,s.jsxs)("h2",{children:["Wallet: ",w]}),(0,s.jsxs)("h2",{children:["Bank: ",(0,s.jsx)("small",{children:"coming soon"})]})]}),(0,s.jsx)(n.ZP,{height:"90%",defaultLanguage:"javascript",defaultValue:e,onChange:e=>{t(e||"")},theme:"vs-dark",options:{readOnly:et}})]}),(0,s.jsx)(E,{className:"w-1/2 p-4",children:(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:j.map(e=>(0,s.jsxs)(O,{className:"w-full h-64 ".concat("green"===I[e]?"bg-green-200":"red"===I[e]?"bg-red-200":"bg-inherent"," transition-colors duration-300"),children:[(0,s.jsxs)(G,{className:"flex-row items-center",children:[(0,s.jsx)(P,{children:e}),(0,s.jsxs)("p",{className:"ml-auto",children:["Price: $",b[e]]}),(0,s.jsxs)("p",{className:"ml-auto",children:["Bal: ",M[e]]}),(0,s.jsxs)("p",{className:"ml-auto",children:["Position: ",S[e]]})]}),(0,s.jsx)(C,{className:"w-full h-full",children:(0,s.jsx)(d.h,{width:"100%",height:300,children:(0,s.jsxs)(u.w,{data:y[e],height:200,width:300,children:[(0,s.jsx)(m.q,{strokeDasharray:"3 3"}),(0,s.jsx)(h.K,{dataKey:"time"}),(0,s.jsx)(f.B,{}),(0,s.jsx)(x.u,{}),(0,s.jsx)(g.D,{}),(0,s.jsx)(N.x,{type:"monotone",dataKey:"price",stroke:"#8884d8"})]})})})]},e))})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[310,879,130,215,744],()=>t(35061)),_N_E=e.O()}]);