(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{35061:(e,t,r)=>{Promise.resolve().then(r.bind(r,83556))},83556:(e,t,r)=>{"use strict";r.d(t,{default:()=>eu});var a,s=r(57437),n=r(37270),l=r(2265),i=r(98094),o=r(24841),c=r(51077),d=r(35231),u=r(28148),f=r(54142),h=r(2842),m=r(9542),x=r(85475),g=r(20153),p=r(16638),N=r(44839),A=r(96164);!function(e){e.Aapl="AAPL",e.Googl="GOOGL",e.Msft="MSFT",e.Amzn="AMZN",e.Fb="FB",e.Tsla="TSLA",e.Nvda="NVDA",e.Nflx="NFLX",e.Vry="VRY",e.Trba="TRBA"}(a||(a={}));let b=Object.values(a),j={AAPL:0,GOOGL:0,MSFT:0,AMZN:0,FB:0,TSLA:0,NVDA:0,NFLX:0,VRY:0,TRBA:0},M={AAPL:0,GOOGL:0,MSFT:0,AMZN:0,FB:0,TSLA:0,NVDA:0,NFLX:0,VRY:0,TRBA:0},y=e=>e?Math.round(Math.random()*e):Math.round(2e5*Math.random()),L={AAPL:50+y(250),GOOGL:50+y(400),MSFT:50+y(300),AMZN:50+y(350),FB:50+y(150),TSLA:50+y(100),NVDA:50+y(500),NFLX:50+y(300),VRY:50+y(300),TRBA:50+y(100)},S={AAPL:Math.round(y(50)/100*L.AAPL),GOOGL:Math.round(y(50)/100*L.GOOGL),MSFT:Math.round(y(50)/100*L.MSFT),AMZN:Math.round(y(50)/100*L.AMZN),FB:Math.round(y(50)/100*L.FB),TSLA:Math.round(y(50)/100*L.TSLA),NVDA:Math.round(y(50)/100*L.NVDA),NFLX:Math.round(y(50)/100*L.NFLX),VRY:Math.round(y(50)/100*L.VRY),TRBA:0},T={AAPL:L.AAPL-S.AAPL,GOOGL:L.GOOGL-S.GOOGL,MSFT:L.MSFT-S.MSFT,AMZN:L.AMZN-S.AMZN,FB:L.FB-S.FB,TSLA:L.TSLA-S.TSLA,NVDA:L.NVDA-S.NVDA,NFLX:L.NFLX-S.NFLX,VRY:L.VRY-S.VRY,TRBA:L.TRBA-S.TRBA},v={AAPL:25*Math.ceil(T.AAPL/100),GOOGL:25*Math.ceil(T.GOOGL/100),MSFT:25*Math.ceil(T.MSFT/100),AMZN:25*Math.ceil(T.AMZN/100),FB:25*Math.ceil(T.FB/100),TSLA:25*Math.ceil(T.TSLA/100),NVDA:25*Math.ceil(T.NVDA/100),NFLX:25*Math.ceil(T.NFLX/100),VRY:25*Math.ceil(T.VRY/100),TRBA:25*Math.ceil(T.TRBA/100)},k={AAPL:y(v.AAPL),GOOGL:y(v.GOOGL),MSFT:y(v.MSFT),AMZN:y(v.AMZN),FB:y(v.FB),TSLA:y(v.TSLA),NVDA:y(v.NVDA),NFLX:y(v.NFLX),VRY:y(v.VRY),TRBA:y(v.TRBA)},F=[];function w(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,A.m6)((0,N.W)(t))}let R=(e,t,r,a)=>0===t||0===e?a:Math.round((e*t+a*r)/(t+r)*100)/100,V=e=>e?Math.round(Math.random()*e):Math.round(2e5*Math.random()),O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=S[e]+Math.round(T[e]/2),s=[];for(let n=0;n<t;n++){let t=0;t=e===a.Trba?Math.round(t-k[e]/4):Math.round(r+Math.random()*k[e]-k[e]/2);let l=L[e],i=S[e];for(;t<i||t>l;)e===a.Trba?t<=0&&(t=0):t=Math.round(t+Math.random()*k[e]-k[e]/2);s[n]={time:n,price:t},r=t}return s},B=()=>{for(let e of Object.keys(k))k[e]=V(v[e])},G=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:w("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});G.displayName="Card";let P=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:w("flex flex-col space-y-1.5 p-6",r),...a})});P.displayName="CardHeader";let C=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:w("text-2xl font-semibold leading-none tracking-tight",r),...a})});C.displayName="CardTitle",l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:w("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let D=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:w("p-6 pt-0",r),...a})});D.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:w("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var Y=r(71538);let Z=(0,r(12218).j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=l.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...i}=e,o=l?Y.g7:"button";return(0,s.jsx)(o,{className:w(Z({variant:a,size:n,className:r})),ref:t,...i})});E.displayName="Button";var X=r(41276);let z=l.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(X.fC,{ref:t,className:w("relative overflow-hidden",r),...n,children:[(0,s.jsx)(X.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(_,{}),(0,s.jsx)(X.Ns,{})]})});z.displayName=X.fC.displayName;let _=l.forwardRef((e,t)=>{let{className:r,orientation:a="vertical",...n}=e;return(0,s.jsx)(X.gb,{ref:t,orientation:a,className:w("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...n,children:(0,s.jsx)(X.q4,{className:"relative flex-1 rounded-full bg-border"})})});_.displayName=X.gb.displayName;var H=r(62528),W=r(4867);let I=H.fC;H.xz;let q=H.h_;H.x8;let J=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(H.aV,{ref:t,className:w("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});J.displayName=H.aV.displayName;let K=l.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(q,{children:[(0,s.jsx)(J,{}),(0,s.jsxs)(H.VY,{ref:t,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...n,children:[a,(0,s.jsxs)(H.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(W.Pxu,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});K.displayName=H.VY.displayName;let U=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:w("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};U.displayName="DialogHeader";let $=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:w("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};$.displayName="DialogFooter";let Q=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(H.Dx,{ref:t,className:w("text-lg font-semibold leading-none tracking-tight",r),...a})});Q.displayName=H.Dx.displayName;let ee=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(H.dk,{ref:t,className:w("text-sm text-muted-foreground",r),...a})});function et(e,t){let r=(0,l.useRef)(null);(0,l.useEffect)(()=>{r.current=e},[e]),(0,l.useEffect)(()=>{if(null!==t){let e=setInterval(function(){r.current()},t);return()=>clearInterval(e)}},[t])}ee.displayName=H.dk.displayName;let er="https://api.github.com/gists",ea="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",es="9f38dd66ab07b524a197798288187e9b";async function en(){let e=await fetch("".concat(er,"/").concat(es),{headers:{Authorization:"token ".concat(ea)}});if(!e.ok)throw Error("Error reading gist: ".concat(e.statusText));return JSON.parse((await e.json()).files["marketScriptHighScores.json"].content)}async function el(e){let t=await fetch("".concat(er,"/").concat(es),{method:"PATCH",headers:{Authorization:"token ".concat(ea),"Content-Type":"application/json"},body:JSON.stringify({files:{"marketScriptHighScores.json":{content:e}}})});if(!t.ok)throw Error("Error updating gist: ".concat(t.statusText))}let ei=l.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:w("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});ei.displayName="Input";let eo=!1,ec=200,ed=0;function eu(){let[e,t]=(0,l.useState)("// Write your JavaScript to execute every second\n\n/*  Utilize the MarketScript library to interact with the market:\n    getCurrentValue( tickerName: string ): number\n    getHistoricalValue( tickerName: string, lookBackQuantity?: number): { time: number, price: number }[]\n    buyStock( tickerName: string, quantity: number ): boolean\n    sellStock( tickerName: string, quantity: number ): boolean\n    getAveragePurchasePrice( tickerName: string ): number\n    getStockBalance( tickerName: string ): number\n    getWalletBalance(): number\n    getRemainingTime(): number // this is the number of seconds remaining in the game\n*/\n\nconst {\n  getCurrentValue\n  , getHistoricalValue\n  , buyStock\n  , sellStock\n  , getAveragePurchasePrice\n  , getStockBalance\n  , getWalletBalance\n  , getRemainingTime\n} = MarketScript;\n\nconst tickers = ['AAPL','GOOGL','MSFT','AMZN','FB','TSLA','NVDA','NFLX','VRY'];\n\nconsole.log(getCurrentValue('AAPL'));"),[r,N]=(0,l.useState)(!1),[A,y]=(0,l.useState)(!1),[S,T]=(0,l.useState)({AAPL:[],GOOGL:[],MSFT:[],AMZN:[],FB:[],TSLA:[],NVDA:[],NFLX:[],VRY:[],TRBA:[]}),[v,w]=(0,l.useState)({AAPL:0,GOOGL:0,MSFT:0,AMZN:0,FB:0,TSLA:0,NVDA:0,NFLX:0,VRY:0,TRBA:0}),[V,Y]=(0,l.useState)(1e3),[Z,X]=(0,l.useState)(!1),[_,H]=(0,l.useState)(!1),[W,q]=(0,l.useState)("");(0,l.useEffect)(()=>{let e={AAPL:[],GOOGL:[],MSFT:[],AMZN:[],FB:[],TSLA:[],NVDA:[],NFLX:[],VRY:[],TRBA:[]};b.forEach(t=>{e[t]=O(t)}),T(e)},[]);let J=(0,l.useRef)(V),er=(0,l.useRef)(v);(0,l.useEffect)(()=>{J.current=V},[V]),(0,l.useEffect)(()=>{er.current=v},[v]);let[ea,es]=(0,l.useState)({}),eu=(0,l.useRef)(ea);(0,l.useEffect)(()=>{eu.current=ea},[ea]);let ef=(0,l.useRef)(ed);(0,l.useEffect)(()=>{ef.current=ed},[ed]),et(async()=>{_&&!Z&&(ed+=1e3)>=3e5&&await em()},1e3);let eh=async(e,t)=>{let r=await en();if(e&&t)for(let a of(r.push({name:e,score:t,date:new Date().toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-")}),r.sort((e,t)=>t.score-e.score),await el(JSON.stringify(r)),F.splice(0),r))F.push(a);else for(let e of(F.splice(0),r.sort((e,t)=>t.score-e.score),r))F.push(e)};et(async()=>{if(A&&(++ec%30&&B(),T(e=>{let t={...e};return Object.keys(t).forEach(e=>{let r=k[e],s=t[e][t[e].length-1].price,n=L[e],l=0;if(e===a.Trba)for(l=Math.round(s-r/4);(l<0||l>n)&&!(l<=0);)l=Math.round(s-r/4);else for(l=Math.round(s+Math.random()*r-r/2);l<0||l>n;)l=Math.round(s+Math.random()*r-r/2);j[e]=l,t[e].shift(),t[e]=[...t[e],{time:ec,price:l}]}),t})),r){let t={};t.getCurrentValue=e=>S[e][S[e].length-1].price,t.getWalletBalance=()=>J.current,t.buyStock=(e,t)=>{if(e===a.Trba)return!0;let r=S[e][S[e].length-1].price,s=r*t;if(J.current>=s){M[e]+=t,Y(e=>(J.current=e-s,J.current));let a=R(er.current[e],M[e],t,r);return w(t=>{let r={...t,[e]:a};return er.current=r,r}),es(t=>({...t,[e]:"red"})),setTimeout(()=>{es(t=>({...t,[e]:null}))},100),!0}return!1},t.sellStock=(e,t)=>{let r=S[e][S[e].length-1].price,a=M[e],s=r*t;return a>=t&&(M[e]-=t,0===M[e]&&w(t=>{let r={...t,[e]:0};return er.current=r,r}),Y(e=>(J.current=e+s,J.current)),es(t=>({...t,[e]:"green"})),setTimeout(()=>{es(t=>({...t,[e]:null}))},100),!0)},t.getHistoricalValue=(e,t)=>(t||(t=200),t<=200)?S[e].slice(200-t,200):S[e],t.getAveragePurchasePrice=e=>er.current[e],t.getStockBalance=e=>M[e],t.getRemainingTime=()=>(3e5-ef.current)/1e3;let r=Function("MarketScript",e),s=async()=>{try{return await r(t,e)}catch(e){console.error("Script execution error:",e)}};await s()}},1e3);let em=async()=>{await eh(W,J.current),X(!0),N(!1),y(!1)};return(0,s.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,s.jsx)(I,{open:!_,children:(0,s.jsxs)(K,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(U,{children:[(0,s.jsx)(Q,{children:"MarketScript - Tutorial"}),(0,s.jsxs)(ee,{children:[(0,s.jsx)("br",{}),"Welcome to MarketScript, the original stock market scripting game!",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The rules are simple:",(0,s.jsx)("br",{}),"1. Use the MarketScript API to buy, sell, and more!",(0,s.jsx)("br",{}),"2. You have 5 minutes to maximize your profit (or lose it all!)",(0,s.jsx)("br",{}),"3. Your code will be ran every second",(0,s.jsx)("br",{}),"4. Set a high score on the leaderboard!",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Good Luck!"]})]}),(0,s.jsxs)($,{children:[(0,s.jsx)("label",{htmlFor:"playerName",className:"text-sm font-medium",children:"User Name"}),(0,s.jsx)(ei,{id:"playerName",placeholder:"name for hi-score...",className:"border rounded-md p-2 focus:outline-none focus:ring focus:ring-blue-500",onChange:e=>{q(e.target.value)}}),(0,s.jsx)(E,{onClick:()=>{H(e=>!e),y(e=>!e)},disabled:""===W,children:"Get Started"})]})]})}),(0,s.jsx)(I,{open:Z,children:(0,s.jsxs)(K,{className:"sm:max-w-[600px] h-1/2",children:[(0,s.jsxs)(U,{children:[(0,s.jsx)(Q,{children:"Game Over!"}),(0,s.jsxs)(ee,{children:["You finished with $",V]})]}),(0,s.jsx)(z,{className:"w-1/2 p-4",children:(0,s.jsxs)("div",{className:"items-center",children:[(0,s.jsx)("h1",{children:"HI-SCORES"}),(0,s.jsx)("ol",{className:"pl-8 list-decimal",children:F.map((e,t)=>(0,s.jsxs)("li",{children:[e.name,": ",e.score,", ",e.date]},t))})]})}),(0,s.jsx)($,{children:(0,s.jsx)(E,{onClick:()=>{let e={AAPL:[],GOOGL:[],MSFT:[],AMZN:[],FB:[],TSLA:[],NVDA:[],NFLX:[],VRY:[],TRBA:[]};b.forEach(t=>{e[t]=O(t)}),ed=0,Y(1e3),T(e),w({AAPL:0,GOOGL:0,MSFT:0,AMZN:0,FB:0,TSLA:0,NVDA:0,NFLX:0,VRY:0,TRBA:0}),H(!1),X(!1)},children:"Start Over"})})]})}),(0,s.jsxs)("div",{className:"w-1/2 p-4 flex flex-col",children:[(0,s.jsxs)("div",{className:"mb-4 flex space-x-2",children:[(0,s.jsxs)(E,{onClick:()=>{try{N(!0),eo=!0}catch(e){console.error("Error executing script:",e)}},disabled:r||Z||!_,children:[(0,s.jsx)(i.Z,{className:"mr-2 h-4 w-4"})," Execute"]}),(0,s.jsxs)(E,{onClick:()=>{N(!1),eo=!1},disabled:!r||Z||!_,children:[(0,s.jsx)(o.Z,{className:"mr-2 h-4 w-4"})," Pause"]}),(0,s.jsxs)(E,{onClick:()=>{},disabled:r||Z||!_,children:[(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Wallet Transfer"]}),(0,s.jsxs)(E,{onClick:()=>{},disabled:r,children:[(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Bank Transfer"]}),(0,s.jsxs)("h1",{className:"text-4xl text-right w-full",children:[Math.floor((3e5-ef.current)/6e4),"m:",(3e5-ef.current)%6e4/1e3,"s"]})]}),(0,s.jsxs)("div",{className:"mb-4 flex space-x-2 items-center",children:[(0,s.jsxs)("h2",{children:["Wallet: ",V]}),(0,s.jsxs)("h2",{children:["Bank: ",(0,s.jsx)("small",{children:"coming soon"})]})]}),(0,s.jsx)(n.ZP,{height:"90%",defaultLanguage:"javascript",defaultValue:e,onChange:e=>{t(e||"")},theme:"vs-dark",options:{readOnly:eo}})]}),(0,s.jsx)(z,{className:"w-1/2 p-4",children:(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:b.map(e=>(0,s.jsxs)(G,{className:"w-full h-64 ".concat("green"===ea[e]?"bg-green-200":"red"===ea[e]?"bg-red-200":"bg-inherent"," transition-colors duration-300"),children:[(0,s.jsxs)(P,{className:"flex-row items-center",children:[(0,s.jsx)(C,{children:e}),(0,s.jsxs)("p",{className:"ml-auto",children:["Price: $",j[e]]}),(0,s.jsxs)("p",{className:"ml-auto",children:["Bal: ",M[e]]}),(0,s.jsxs)("p",{className:"ml-auto",children:["Position: ",v[e]]})]}),(0,s.jsx)(D,{className:"w-full h-full",children:(0,s.jsx)(d.h,{width:"100%",height:300,children:(0,s.jsxs)(u.w,{data:S[e],height:200,width:300,children:[(0,s.jsx)(f.q,{strokeDasharray:"3 3"}),(0,s.jsx)(h.K,{dataKey:"time"}),(0,s.jsx)(m.B,{}),(0,s.jsx)(x.u,{}),(0,s.jsx)(g.D,{}),(0,s.jsx)(p.x,{type:"monotone",dataKey:"price",stroke:"#8884d8"})]})})})]},e))})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[310,879,130,215,744],()=>t(35061)),_N_E=e.O()}]);